tasks:

  prepareMyFrontendDeployment:
    icon: 🏁
    extend: zrbRunShellScript
    location: ../../myFrontendDeployment
    configRefs:
      - prepareMyFrontendDeployment
    envRef: myFrontendDeploymentEnv
    syncEnvLocation: ../../myApp

  previewMyFrontendDeployment:
    icon: 🏁
    extend: zrbPulumiPreview
    location: ../../myFrontendDeployment
    timeout: 1h
    envRef: myFrontendDeployment
    dependencies:
      - prepareMyFrontendDeployment

  deployMyFrontendDeployment:
    icon: 🏁
    extend: zrbPulumiDeploy
    location: ../../myFrontendDeployment
    timeout: 1h
    dependencies:
      - prepareMyFrontendDeployment
      - zrbSetKubeContext
    envRef: myFrontendDeployment

  destroyMyFrontendDeployment:
    icon: 🏁
    extend: zrbPulumiDestroy
    location: ../../myFrontendDeployment
    timeout: 1h
    dependencies:
      - prepareMyFrontendDeployment
      - zrbSetKubeContext
    envRef: myFrontendDeployment