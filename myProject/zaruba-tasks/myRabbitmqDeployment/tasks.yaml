tasks:

  prepareMyRabbitmqDeployment:
    icon: 🏁
    extend: zrbRunShellScript
    location: ../../myRabbitmqDeployment
    configRefs:
      - prepareMyRabbitmqDeployment
    envRef: myRabbitmqDeployment

  previewMyRabbitmqDeployment:
    icon: 🏁
    extend: zrbPulumiPreview
    location: ../../myRabbitmqDeployment
    timeout: 1h
    envRef: myRabbitmqDeployment

  deployMyRabbitmqDeployment:
    icon: 🏁
    extend: zrbPulumiDeploy
    location: ../../myRabbitmqDeployment
    timeout: 1h
    dependencies:
      - prepareMyRabbitmqDeployment
      - zrbSetKubeContext
    envRef: myRabbitmqDeployment

  destroyMyRabbitmqDeployment:
    icon: 🏁
    extend: zrbPulumiDestroy
    location: ../../myRabbitmqDeployment
    timeout: 1h
    dependencies:
      - prepareMyRabbitmqDeployment
      - zrbSetKubeContext
    envRef: myRabbitmqDeployment