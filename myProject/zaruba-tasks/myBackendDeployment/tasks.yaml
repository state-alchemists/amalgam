tasks:

  prepareMyBackendDeployment:
    icon: 🏁
    extend: zrbRunShellScript
    location: ../../myBackendDeployment
    configRefs:
      - prepareMyBackendDeployment
    envRef: myBackendDeployment
    syncEnvLocation: ../../myApp

  previewMyBackendDeployment:
    icon: 🏁
    extend: zrbPulumiPreview
    location: ../../myBackendDeployment
    timeout: 1h
    envRef: myBackendDeployment
    syncEnvLocation: ../../myApp

  deployMyBackendDeployment:
    icon: 🏁
    extend: zrbPulumiDeploy
    location: ../../myBackendDeployment
    timeout: 1h
    dependencies:
      - prepareMyBackendDeployment
      - zrbSetKubeContext
    envRef: myBackendDeployment

  destroyMyBackendDeployment:
    icon: 🏁
    extend: zrbPulumiDestroy
    location: ../../myBackendDeployment
    timeout: 1h
    dependencies:
      - prepareMyBackendDeployment
      - zrbSetKubeContext
    envRef: myBackendDeployment