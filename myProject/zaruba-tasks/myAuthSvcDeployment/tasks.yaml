tasks:

  prepareMyAuthSvcDeployment:
    icon: 🏁
    extend: zrbRunShellScript
    location: ../../myAuthSvcDeployment
    configRefs:
      - prepareMyAuthSvcDeployment
    envRef: myAuthSvcDeploymentEnv
    syncEnvLocation: ../../myApp

  previewMyAuthSvcDeployment:
    icon: 🏁
    extend: zrbPulumiPreview
    location: ../../myAuthSvcDeployment
    timeout: 1h
    envRef: myAuthSvcDeployment
    dependencies:
      - prepareMyAuthSvcDeployment

  deployMyAuthSvcDeployment:
    icon: 🏁
    extend: zrbPulumiDeploy
    location: ../../myAuthSvcDeployment
    timeout: 1h
    dependencies:
      - prepareMyAuthSvcDeployment
      - zrbSetKubeContext
    envRef: myAuthSvcDeployment

  destroyMyAuthSvcDeployment:
    icon: 🏁
    extend: zrbPulumiDestroy
    location: ../../myAuthSvcDeployment
    timeout: 1h
    dependencies:
      - prepareMyAuthSvcDeployment
      - zrbSetKubeContext
    envRef: myAuthSvcDeployment